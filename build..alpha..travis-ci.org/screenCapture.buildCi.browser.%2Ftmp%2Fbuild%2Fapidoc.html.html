<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://spmjs.io/docs/detector/">detector (v2.5.0)</a>
</h1>
<h4>The module for detect client-side information.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.detector">module detector</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.detector.detector">
            function <span class="apidocSignatureSpan"></span>detector
            <span class="apidocSignatureSpan">(rules)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">detector.</span>_rules</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.detector.detector">module detector.detector</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.detector.detector.detector">
            function <span class="apidocSignatureSpan">detector.</span>detector
            <span class="apidocSignatureSpan">(rules)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.detector" id="apidoc.module.detector">module detector</a></h1>


    <h2>
        <a href="#apidoc.element.detector.detector" id="apidoc.element.detector.detector">
        function <span class="apidocSignatureSpan"></span>detector
        <span class="apidocSignatureSpan">(rules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Detector {
  constructor (rules) {
    this._rules = rules;
  }

  // è§£æž UserAgent å­—ç¬¦ä¸²
  // @param {String} ua, userAgent string.
  // @return {Object}
  parse (ua) {
    ua = (ua || "").toLowerCase();
    const d = {};

    init(ua, this._rules.device, function(name, version) {
      const v = parseFloat(version);
      d.device = {
        name: name,
        version: v,
        fullVersion: version,
      };
      d.device[name] = v;
    }, d);

    init(ua, this._rules.os, function(name, version){
      const v = parseFloat(version);
      d.os = {
        name: name,
        version: v,
        fullVersion: version,
      };
      d.os[name] = v;
    }, d);

    const ieCore = this.IEMode(ua);

    init(ua, this._rules.engine, function(name, version) {
      let mode = version;
      // IE å†…æ&nbsp;¸çš„æµè§ˆå™¨ï¼Œä¿®å¤ç‰ˆæœ¬å·åŠå…¼å®¹æ¨¡å¼ã€‚
      if(ieCore){
        version = ieCore.engineVersion || ieCore.engineMode;
        mode = ieCore.engineMode;
      }
      const v = parseFloat(version);
      d.engine = {
        name: name,
        version: v,
        fullVersion: version,
        mode: parseFloat(mode),
        fullMode: mode,
        compatible: ieCore ? ieCore.compatible : false,
      };
      d.engine[name] = v;
    }, d);

    init(ua, this._rules.browser, function(name, version) {
      let mode = version;
      // IE å†…æ&nbsp;¸çš„æµè§ˆå™¨ï¼Œä¿®å¤æµè§ˆå™¨ç‰ˆæœ¬åŠå…¼å®¹æ¨¡å¼ã€‚
      if(ieCore){
        // ä»…ä¿®æ”¹ IE æµè§ˆå™¨çš„ç‰ˆæœ¬ï¼Œå…¶ä»– IE å†…æ&nbsp;¸çš„ç‰ˆæœ¬ä¸ä¿®æ”¹ã€‚
        if(name === "ie"){
          version = ieCore.browserVersion;
        }
        mode = ieCore.browserMode;
      }
      const v = parseFloat(version);
      d.browser = {
        name: name,
        version: v,
        fullVersion: version,
        mode: parseFloat(mode),
        fullMode: mode,
        compatible: ieCore ? ieCore.compatible : false,
      };
      d.browser[name] = v;
    }, d);
    return d;
  }

  // è§£æžä½¿ç”¨ Trident å†…æ&nbsp;¸çš„æµè§ˆå™¨çš„ `æµè§ˆå™¨æ¨¡å¼` å’Œ `æ–‡æ¡£æ¨¡å¼` ä¿¡æ¯ã€‚
  // @param {String} ua, userAgent string.
  // @return {Object}
  IEMode (ua) {
    if(!this._rules.re_msie.test(ua)){ return null; }

    let m;
    let engineMode;
    let engineVersion;
    let browserMode;
    let browserVersion;

    // IE8 åŠå…¶ä»¥ä¸Šæä¾›æœ‰ Trident ä¿¡æ¯ï¼Œ
    // é»˜è®¤çš„å…¼å®¹æ¨¡å¼ï¼ŒUA ä¸­ Trident ç‰ˆæœ¬ä¸å‘ç”Ÿå˜åŒ–ã€‚
    if(ua.indexOf("trident/") !== -1) {
      m = /\btrident\/([0-9.]+)/.exec(ua);
      if (m &amp;&amp; m.length &gt;= 2) {
        // çœŸå®žå¼•æ“Žç‰ˆæœ¬ã€‚
        engineVersion = m[1];
        const v_version = m[1].split(".");
        v_version[0] = parseInt(v_version[0], 10) + 4;
        browserVersion = v_version.join(".");
      }
    }

    m = this._rules.re_msie.exec(ua);
    browserMode = m[1];
    const v_mode = m[1].split(".");
    if (typeof browserVersion === "undefined") {
      browserVersion = browserMode;
    }
    v_mode[0] = parseInt(v_mode[0], 10) - 4;
    engineMode = v_mode.join(".");
    if (typeof engineVersion === "undefined") {
      engineVersion = engineMode;
    }

    return {
      browserVersion: browserVersion,
      browserMode: browserMode,
      engineVersion: engineVersion,
      engineMode: engineMode,
      compatible: engineVersion !== engineMode,
    };
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.detector.detector" id="apidoc.module.detector.detector">module detector.detector</a></h1>


    <h2>
        <a href="#apidoc.element.detector.detector.detector" id="apidoc.element.detector.detector.detector">
        function <span class="apidocSignatureSpan">detector.</span>detector
        <span class="apidocSignatureSpan">(rules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Detector {
  constructor (rules) {
    this._rules = rules;
  }

  // è§£æž UserAgent å­—ç¬¦ä¸²
  // @param {String} ua, userAgent string.
  // @return {Object}
  parse (ua) {
    ua = (ua || "").toLowerCase();
    const d = {};

    init(ua, this._rules.device, function(name, version) {
      const v = parseFloat(version);
      d.device = {
        name: name,
        version: v,
        fullVersion: version,
      };
      d.device[name] = v;
    }, d);

    init(ua, this._rules.os, function(name, version){
      const v = parseFloat(version);
      d.os = {
        name: name,
        version: v,
        fullVersion: version,
      };
      d.os[name] = v;
    }, d);

    const ieCore = this.IEMode(ua);

    init(ua, this._rules.engine, function(name, version) {
      let mode = version;
      // IE å†…æ&nbsp;¸çš„æµè§ˆå™¨ï¼Œä¿®å¤ç‰ˆæœ¬å·åŠå…¼å®¹æ¨¡å¼ã€‚
      if(ieCore){
        version = ieCore.engineVersion || ieCore.engineMode;
        mode = ieCore.engineMode;
      }
      const v = parseFloat(version);
      d.engine = {
        name: name,
        version: v,
        fullVersion: version,
        mode: parseFloat(mode),
        fullMode: mode,
        compatible: ieCore ? ieCore.compatible : false,
      };
      d.engine[name] = v;
    }, d);

    init(ua, this._rules.browser, function(name, version) {
      let mode = version;
      // IE å†…æ&nbsp;¸çš„æµè§ˆå™¨ï¼Œä¿®å¤æµè§ˆå™¨ç‰ˆæœ¬åŠå…¼å®¹æ¨¡å¼ã€‚
      if(ieCore){
        // ä»…ä¿®æ”¹ IE æµè§ˆå™¨çš„ç‰ˆæœ¬ï¼Œå…¶ä»– IE å†…æ&nbsp;¸çš„ç‰ˆæœ¬ä¸ä¿®æ”¹ã€‚
        if(name === "ie"){
          version = ieCore.browserVersion;
        }
        mode = ieCore.browserMode;
      }
      const v = parseFloat(version);
      d.browser = {
        name: name,
        version: v,
        fullVersion: version,
        mode: parseFloat(mode),
        fullMode: mode,
        compatible: ieCore ? ieCore.compatible : false,
      };
      d.browser[name] = v;
    }, d);
    return d;
  }

  // è§£æžä½¿ç”¨ Trident å†…æ&nbsp;¸çš„æµè§ˆå™¨çš„ `æµè§ˆå™¨æ¨¡å¼` å’Œ `æ–‡æ¡£æ¨¡å¼` ä¿¡æ¯ã€‚
  // @param {String} ua, userAgent string.
  // @return {Object}
  IEMode (ua) {
    if(!this._rules.re_msie.test(ua)){ return null; }

    let m;
    let engineMode;
    let engineVersion;
    let browserMode;
    let browserVersion;

    // IE8 åŠå…¶ä»¥ä¸Šæä¾›æœ‰ Trident ä¿¡æ¯ï¼Œ
    // é»˜è®¤çš„å…¼å®¹æ¨¡å¼ï¼ŒUA ä¸­ Trident ç‰ˆæœ¬ä¸å‘ç”Ÿå˜åŒ–ã€‚
    if(ua.indexOf("trident/") !== -1) {
      m = /\btrident\/([0-9.]+)/.exec(ua);
      if (m &amp;&amp; m.length &gt;= 2) {
        // çœŸå®žå¼•æ“Žç‰ˆæœ¬ã€‚
        engineVersion = m[1];
        const v_version = m[1].split(".");
        v_version[0] = parseInt(v_version[0], 10) + 4;
        browserVersion = v_version.join(".");
      }
    }

    m = this._rules.re_msie.exec(ua);
    browserMode = m[1];
    const v_mode = m[1].split(".");
    if (typeof browserVersion === "undefined") {
      browserVersion = browserMode;
    }
    v_mode[0] = parseInt(v_mode[0], 10) - 4;
    engineMode = v_mode.join(".");
    if (typeof engineVersion === "undefined") {
      engineVersion = engineMode;
    }

    return {
      browserVersion: browserVersion,
      browserMode: browserMode,
      engineVersion: engineVersion,
      engineMode: engineMode,
      compatible: engineVersion !== engineMode,
    };
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>